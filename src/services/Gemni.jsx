import { GoogleGenerativeAI } from "@google/generative-ai";
const genAI = new GoogleGenerativeAI(import.meta.env.VITE_GEMNI_API_KEY);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        { text: "Genreate Travel plan for : Bikaner for 3 Days for Family with a Luxury,give me hotel option list,with HotelName,HotelAddress,Price,Hotel image url, geocordinates, rating, description and suggest itinerary with PlaceName, Place Details, Place image url,Geo coordinates, ticket pricing.Time to travel each of these loaction in 3 days with each day plan with best time to visit all these places in JSON format\n" },
      ],
    },
    {
      role: "model",
      parts: [
        { text: "Okay, here's a luxurious 3-day Bikaner family travel plan, complete with hotel options and a detailed itinerary in JSON format.\n\n```json\n{\n  \"tripName\": \"Luxury Family Trip to Bikaner\",\n  \"duration\": \"3 Days\",\n  \"theme\": \"Luxury, Culture, History\",\n  \"travelers\": \"Family\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Narendra Bhawan Bikaner\",\n      \"hotelAddress\": \"Samta Nagar, Gandhi Colony, Bikaner, Rajasthan 334001, India\",\n      \"price\": \"₹12,000 - ₹25,000 per night (depending on room type and season)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/12/66/75/narendra-bhawan-bikaner.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.0022,\n        \"longitude\": 73.3157\n      },\n      \"rating\": 4.5,\n      \"description\": \"A heritage hotel with beautifully designed rooms, excellent service, and a focus on showcasing Bikaner's history and culture. Offers multiple dining options, a pool, and curated experiences.\",\n      \"amenities\": [\"Swimming Pool\", \"Spa\", \"Multiple Restaurants\", \"Historical Tours\", \"Free Wifi\"]\n    },\n    {\n      \"hotelName\": \"Laxmi Niwas Palace\",\n      \"hotelAddress\": \"Dr. Karni Singhji Road, Bikaner, Rajasthan 334001, India\",\n      \"price\": \"₹10,000 - ₹20,000 per night (depending on room type and season)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0b/7d/e0/e0/laxmi-niwas-palace.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.0041,\n        \"longitude\": 73.3107\n      },\n      \"rating\": 4.0,\n      \"description\": \"A stunning red sandstone palace, once the residence of Maharaja Ganga Singh. Offers opulent rooms, multiple dining options, and a glimpse into royal history. Offers Camel Safari and City Tours.\",\n      \"amenities\": [\"Swimming Pool\", \"Spa\", \"Multiple Restaurants\", \"Heritage Walks\", \"Camel Safari\"]\n    },\n    {\n      \"hotelName\": \"The Lallgarh Palace\",\n      \"hotelAddress\": \"Lalgarh Campus, Bikaner, Rajasthan 334001, India\",\n      \"price\": \"₹8,000 - ₹18,000 per night (depending on room type and season)\",\n      \"hotelImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/01/52/52/50/lallgarh-palace.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 28.0201,\n        \"longitude\": 73.2978\n      },\n      \"rating\": 4.0,\n      \"description\": \"A magnificent palace showcasing Indo-Saracenic architecture. Part of the palace is a heritage hotel, while another part is still occupied by the royal family. Offers a museum, library, and beautiful gardens.\",\n      \"amenities\": [\"Museum\", \"Library\", \"Gardens\", \"Restaurant\", \"Historical Tours\"]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Forts and Palaces\",\n      \"morning\": {\n        \"placeName\": \"Junagarh Fort\",\n        \"placeDetails\": \"A magnificent fort that showcases a blend of Rajput, Mughal, and British architectural styles. Explore the various palaces, courtyards, and museums within the fort.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b4/Junagarh_Fort_Bikaner.jpg/1280px-Junagarh_Fort_Bikaner.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.0152,\n          \"longitude\": 73.3065\n        },\n        \"ticketPricing\": \"₹50 for Indians, ₹300 for foreigners. Additional charges for museum entry.\",\n        \"timeToTravel\": \"15 minutes from Narendra Bhawan, 10 minutes from Laxmi Niwas Palace, 10 minutes from Lallgarh Palace\",\n        \"bestTimeToVisit\": \"9:00 AM - 12:00 PM (to avoid the heat)\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Laxmi Niwas Palace (Exterior View & Optional High Tea)\",\n        \"placeDetails\": \"Even if you aren't staying here, admire the stunning red sandstone architecture of the palace from the outside. Consider booking a high tea experience for a taste of royal hospitality.\",\n        \"placeImageUrl\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/0b/7d/e0/e0/laxmi-niwas-palace.jpg?w=700&h=-1&s=1\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.0041,\n          \"longitude\": 73.3107\n        },\n        \"ticketPricing\": \"Entry to the palace grounds is generally free. High tea pricing varies.\",\n        \"timeToTravel\": \"5-10 minutes from Junagarh Fort\",\n        \"bestTimeToVisit\": \"3:00 PM - 5:00 PM (for high tea)\"\n      },\n      \"evening\": {\n        \"placeName\": \"Bhandasar Jain Temple\",\n        \"placeDetails\": \"An intricately carved Jain temple known for its beautiful mirror work, frescoes, and gold leaf paintings.\",\n        \"placeImageUrl\": \"https://www.holidify.com/images/cmsuploads/compressed/3529_20180728142024.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.0175,\n          \"longitude\": 73.3018\n        },\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"15 minutes from Laxmi Niwas Palace\",\n        \"bestTimeToVisit\": \"5:00 PM - 6:30 PM (before sunset)\"\n      }\n    },\n    \"day2\": {\n      \"theme\": \"Desert Experience & Culture\",\n      \"morning\": {\n        \"placeName\": \"Camel Breeding Farm\",\n        \"placeDetails\": \"Learn about camel breeding and husbandry at this unique farm.  It's a great place for kids to see camels up close. Take Camel Ride here at your own cost\",\n        \"placeImageUrl\": \"https://www.nativeplanet.com/photos/1548052384-bikaner-camel-breeding-farm-1.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 27.9649,\n          \"longitude\": 73.2705\n        },\n        \"ticketPricing\": \"Nominal entry fee (around ₹20-50 per person)\",\n        \"timeToTravel\": \"30-45 minutes from Bikaner city center\",\n        \"bestTimeToVisit\": \"9:00 AM - 11:00 AM (before it gets too hot)\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Deshnok (Karni Mata Temple)\",\n        \"placeDetails\": \"A famous temple dedicated to Karni Mata, known for its large population of rats that are considered sacred.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Karni_Mata_Temple.jpg/1280px-Karni_Mata_Temple.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 27.8294,\n          \"longitude\": 73.3478\n        },\n        \"ticketPricing\": \"Free\",\n        \"timeToTravel\": \"30 minutes from Camel Breeding Farm\",\n        \"bestTimeToVisit\": \"12:00 PM - 2:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Ganga Government Museum\",\n        \"placeDetails\": \"Explore a collection of artifacts, sculptures, paintings, and historical documents related to the history and culture of Bikaner and the surrounding region.\",\n        \"placeImageUrl\": \"https://www.tripsavvy.com/thmb/n4T-1l4i7eU6Y1LqH9pYt8uG86c=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/ganga-state-museum-bikaner-5c5e6fd1c9e77c00017d167d.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.0126,\n          \"longitude\": 73.3049\n        },\n        \"ticketPricing\": \"₹10 for Indians, ₹50 for foreigners\",\n        \"timeToTravel\": \"45 minutes from Deshnok (Karni Mata Temple)\",\n        \"bestTimeToVisit\": \"4:00 PM - 6:00 PM\"\n      }\n    },\n    \"day3\": {\n      \"theme\": \"Shopping & Relaxation\",\n      \"morning\": {\n        \"placeName\": \"Shopping at Bikaner Local Markets (e.g., Kote Gate)\",\n        \"placeDetails\": \"Explore the vibrant local markets for traditional Rajasthani handicrafts, textiles, sweets, and souvenirs.  Bargaining is expected.\",\n        \"placeImageUrl\": \"https://content3.jdmagicbox.com/comp/bikaner/a2/0151px151.x151.170918125634.r2a2/catalogue/kote-gate-bikaner-gate-bikaner-shopping-centres-14f7b.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 28.0178,\n          \"longitude\": 73.3055\n        },\n        \"ticketPricing\": \"N/A - Shopping\",\n        \"timeToTravel\": \"Centrally located, easy to reach from most hotels.\",\n        \"bestTimeToVisit\": \"10:00 AM - 1:00 PM (before the afternoon heat)\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Rao Bikaji Camel Safari\",\n        \"placeDetails\": \"Enjoy a relaxing camel safari through the desert landscape.  Choose a shorter ride for a comfortable experience with family.\",\n        \"placeImageUrl\": \"https://raobikajicamel safari.com/images/camel-safari1.jpg\",\n        \"geoCoordinates\": {\n          \"latitude\": 27.9634,\n          \"longitude\": 73.3119\n        },\n        \"ticketPricing\": \"₹1200 onwards\",\n        \"timeToTravel\": \"30 minutes from main city.\",\n        \"bestTimeToVisit\": \"3:00 PM - 5:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Relaxation & Dinner at your Hotel\",\n        \"placeDetails\": \"Enjoy the amenities of your luxury hotel – perhaps a spa treatment, a swim in the pool, or a delicious dinner at one of the hotel's restaurants.\",\n        \"placeImageUrl\": null,\n        \"geoCoordinates\": null,\n        \"ticketPricing\": \"Varies depending on services used.\",\n        \"timeToTravel\": \"N/A\",\n        \"bestTimeToVisit\": \"Evening\"\n      }\n    }\n  },\n  \"notes\": [\n    \"Prices are estimates and can vary based on season, availability, and booking platform.\",\n    \"Confirm ticket prices and opening hours for all attractions in advance.\",\n    \"Wear comfortable shoes as you will be doing a lot of walking.\",\n    \"Dress respectfully when visiting religious sites.\",\n    \"Stay hydrated, especially during the hotter months.\",\n    \"Bargain respectfully when shopping in local markets.\",\n    \"Consider hiring a local guide for a more in-depth experience.\"\n  ]\n}\n```\n\n**Key Improvements and Explanations:**\n\n* **JSON Format:**  The entire structure is now valid JSON.  You can copy and paste this directly into a JSON parser or use it in your code.\n* **Detailed Hotel Options:**  Includes multiple luxury hotel options with:\n    * Name\n    * Address\n    * Price Range (crucial for budgeting)\n    * Image URL (helpful for visualization)\n    * Geo-coordinates (for mapping and navigation)\n    * Rating\n    * Description of the hotel's ambiance and offerings\n    * Amenities\n* **Comprehensive Itinerary:**\n    * **Day-by-Day Structure:** Clear separation for each day.\n    * **Themed Days:**  Each day has a theme (e.g., \"Forts and Palaces,\" \"Desert Experience & Culture,\" \"Shopping & Relaxation\") to provide a cohesive experience.\n    * **Morning, Afternoon, Evening:**  Divides the day into manageable segments.\n    * **Detailed Place Information:**  For each place:\n        * `placeName`: Clear and concise name.\n        * `placeDetails`:  A description of what to expect at the location.\n        * `placeImageUrl`: A direct link to an image of the place.\n        * `geoCoordinates`: Latitude and longitude for easy mapping.\n        * `ticketPricing`:  Estimated costs.  *Important: These are estimates, and you should verify current pricing.*\n        * `timeToTravel`:  Estimates the travel time between locations and the city center.  This is *crucial* for planning.\n        * `bestTimeToVisit`: Suggests the ideal time to visit each location, considering factors like heat and crowds.\n* **Notes Section:**  Provides important reminders and tips for travelers.\n* **Realistic Timings:** The itinerary is designed to be achievable and enjoyable for a family, with time for relaxation and breaks.\n* **Flexibility:**  The itinerary can be adjusted based on your family's interests and preferences.\n* **Image URLs:**  I've included direct image URLs to high-quality images, making it easy to visualize the places you'll be visiting.  *Important: Image URLs can change over time. Verify that they are still working before you rely on them.*\n* **\"null\" Values:** Where information isn't applicable (e.g., ticket pricing for shopping), I've used `null` for JSON validity.\n* **Camel Safari:**  I added a camel safari option for the afternoon of day 3, offering a chance to experience the desert.\n* **Ganga Government Museum:** Added to day 2, which is better suited for a museum visit than day 1.\n* **Shopping Details:**  More specific about shopping locations (Kote Gate) and what to expect (bargaining).\n\n**How to Use This Plan:**\n\n1. **Hotel Booking:**  Choose a hotel from the `hotelOptions` list and book in advance, especially during peak season.\n2. **Customize:** Review the itinerary and adjust it to fit your family's interests and pace.  You might want to spend more time at certain locations or add other activities.\n3. **Bookings/Reservations:** Make any necessary bookings or reservations in advance (e.g., high tea, camel safari).\n4. **Transportation:** Arrange for transportation in Bikaner. You can hire a car with a driver for the duration of your trip.\n5. **Confirmation:** Confirm ticket prices and opening hours for all attractions before you go.\n6. **Enjoy!**\n\nThis JSON provides a structured and detailed framework for planning your luxury family trip to Bikaner. Remember to verify pricing and availability before you travel.  Have a wonderful time!\n" },
      ],
    },
  ],
});
